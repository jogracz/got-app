(this["webpackJsonpgot-app"]=this["webpackJsonpgot-app"]||[]).push([[0],{45:function(n,e,t){},74:function(n,e,t){"use strict";t.r(e);var c,r,a,i,o,s,u,l,d,j,p,f,b,h,x,O,g,v,m,w,k,y=t(1),C=t.n(y),z=t(34),S=t.n(z),A=(t(45),t(3)),F=t(14),L=t(5),I=t(4),P=t(13),B=t.n(P),E=t(18),H=t(11),D=t(35),N=t.n(D),T="https://anapioficeandfire.com/api",G="".concat(T,"/characters"),M="".concat(T,"/houses"),Y="".concat(G,"?page=1&pageSize=25"),J=[10,25,50],U="prev",W="next",K="first",R="last",V=("".concat(G,"?page=2&pageSize=25"),"".concat(G,"?page=10&pageSize=25"),"Unknown"),q={ALL:"All",MALE:"Male",FEMALE:"Female",UNKNOWN:V},Q=function(n,e){return""===e?"Yes":"No, died at ".concat(function(n,e){var t=n.split(" "),c=e.split(" "),r="In"===t[0]?t[1]:t[0],a="In"===c[0]?c[1]:c[0];return parseInt(a)-parseInt(r)}(n,e)," years old")},X=function(n,e){if(0===e.length)return n;var t=e.join(", ");return n?"".concat(n,", ").concat(t):t},Z=function(n){return{character:X(n.name,n.aliases),alive:Q(n.born,n.died),gender:n.gender||V,culture:n.culture||V,allegiances:(e=n.allegiances,0===e.length?V:e.map((function(n){return function(n){var e=n.split("/");return e[e.length-1]}(n)}))),numberOfBooks:n.books.length};var e},$=function(n){if(!n)return[];var e={first:"",prev:"",next:"",last:""};return n.split(",").forEach((function(n){var t=n.split(";")[1].split('"')[1],c=n.split(";")[0].split("<")[1].split(">")[0];e[t]=c})),e},_=t(2),nn={filteredCharacters:[],house:null,pageSize:25,changePageSize:function(){return null},getHouse:function(){return null},cleanHouse:function(){return null},goToPage:function(){return null},changeGenderFilter:function(){return null},changeCultureFilter:function(){return null}},en=Object(y.createContext)(nn),tn=function(n){var e=n.children,t=Object(y.useState)([]),c=Object(H.a)(t,2),r=c[0],a=c[1],i=Object(y.useState)(r),o=Object(H.a)(i,2),s=o[0],u=o[1],l=Object(y.useState)(null),d=Object(H.a)(l,2),j=d[0],p=d[1],f=Object(y.useState)(25),b=Object(H.a)(f,2),h=b[0],x=b[1],O=Object(y.useState)({}),g=Object(H.a)(O,2),v=g[0],m=g[1],w=Object(y.useState)(Y),k=Object(H.a)(w,2),C=k[0],z=k[1],S=Object(y.useState)(q.ALL),A=Object(H.a)(S,2),F=A[0],L=A[1],I=Object(y.useState)(""),P=Object(H.a)(I,2),D=P[0],T=P[1],G=function(){var n=Object(E.a)(B.a.mark((function n(e){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:N()(e).then((function(n){var e=$(n.headers.link);return m(e),n.data})).then((function(n){return a(n.map((function(n){return Z(n)})))})).catch((function(n){return console.log(n)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),J=function(){var n=Object(E.a)(B.a.mark((function n(e){var t;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t="".concat(M,"/").concat(e),fetch(t).then((function(n){return n.json()})).then((function(n){return p({name:(e=n).name||V,region:e.region||V,coatOfArms:e.coatOfArms||V,words:e.words||V,titles:e.titles.length>0&&""!==e.titles[0]?e.titles:V,hasDiedOut:e.diedOut?"Yes":"No",hasOverlord:e.overlord?"Yes":"No",numberOfCadetBranches:e.cadetBranches.length});var e})).catch((function(n){return console.log(n)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Object(y.useEffect)((function(){if(F===q.ALL&&""===D)u(r);else{var n=r;F!==q.ALL&&(n=function(n,e){return n.filter((function(n){return n.gender===e}))}(n,F)),""!==D&&(n=function(n,e){return n.filter((function(n){return n.culture.toLocaleLowerCase().includes(e.toLocaleLowerCase())}))}(n,D)),u(n)}}),[r,F,D]),Object(y.useEffect)((function(){(function(){var n=Object(E.a)(B.a.mark((function n(e){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G(e);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}})()(C)}),[C]);var Q={filteredCharacters:s,house:j,pageSize:h,changePageSize:function(n){x(n),z("".concat(C.split("pageSize")[0],"pageSize=").concat(n))},getHouse:J,cleanHouse:function(){p(null)},goToPage:function(n){switch(n){case K:v.first&&z(v.first);break;case U:v.prev&&z(v.prev);break;case W:v.next&&z(v.next);break;case R:v.last&&z(v.last)}},changeGenderFilter:function(n){L(n)},changeCultureFilter:function(n){T(n)}};return Object(_.jsx)(en.Provider,{value:Q,children:e})},cn=function(){return Object(y.useContext)(en)},rn=t(17),an="#eee",on="#2A2B2DFF",sn="#2DA8D8FF",un=I.a.div(c||(c=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  width: 200px;\n"]))),ln=I.a.div(r||(r=Object(A.a)(["\n  cursor: pointer;\n  opacity: ",";\n  font-size: ",";\n  &:hover {\n    opacity: 1;\n  }\n"])),(function(n){return n.selected?1:.6}),(function(n){return n.selected?"24px":"18px"})),dn=function(){var n=cn(),e=n.pageSize,t=n.changePageSize;return Object(_.jsx)(un,{children:J.map((function(n){return Object(_.jsx)(ln,{selected:e===n,onClick:function(){return t(n)},children:n},n)}))})},jn=I.a.div(a||(a=Object(A.a)(["\n  z-index: 10;\n  position: fixed;\n  width: 100%;\n  background-color: ",";\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  color: ",";\n  font-size: 30px;\n  svg {\n    opacity: 0.6;\n    cursor: pointer;\n    &:hover {\n      opacity: 1;\n    }\n  }\n"])),an,sn),pn=function(){var n=cn().goToPage;return Object(_.jsxs)(jn,{children:[Object(_.jsx)(rn.a,{onClick:function(){return n(K)}}),Object(_.jsx)(rn.c,{onClick:function(){return n(U)}}),Object(_.jsx)(dn,{}),Object(_.jsx)(rn.d,{onClick:function(){return n(W)}}),Object(_.jsx)(rn.b,{onClick:function(){return n(R)}})]})},fn=I.a.td(i||(i=Object(A.a)(["\n  padding: 2px;\n  font-size: 10px;\n  height: 40px;\n  opacity: ",";\n  text-align: center;\n  width: 70px;\n  @media(min-width: 800px) {\n    width: 180px;\n    padding: 10px;\n    font-size: 14px;\n  }\n"])),(function(n){return n.unknown?.6:1})),bn=function(n){var e=n.k,t=n.value;return Object(_.jsx)(fn,{unknown:t===V,children:"allegiances"===e&&Array.isArray(t)?t.map((function(n){return Object(_.jsx)("div",{children:Object(_.jsx)(F.b,{to:"/houses/".concat(n),children:n})},n)})):t})},hn=I.a.tr(o||(o=Object(A.a)(["\n  background-color: ",";\n"])),(function(n){return n.even?"#ddd":an})),xn=function(n){var e=n.character,t=n.even;return Object(_.jsx)(hn,{even:t,children:Object.entries(e).map((function(n){var e=Object(H.a)(n,2),t=e[0],c=e[1];return Object(_.jsx)(bn,{k:t,value:c},t)}))})},On=I.a.select(s||(s=Object(A.a)(["\n  width: 100%;\n"]))),gn=function(){var n=cn().changeGenderFilter;return Object(_.jsx)(On,{defaultValue:q.ALL,onChange:function(e){return n(e.target.value)},children:Object.values(q).map((function(n){return Object(_.jsx)("option",{value:n,children:n})}))})},vn=I.a.input(u||(u=Object(A.a)(["\n  width: 100%;\n"]))),mn=function(){var n=cn().changeCultureFilter;return Object(_.jsx)(vn,{type:"text",placeholder:"search",onChange:function(e){return n(e.target.value)}})},wn=I.a.thead(l||(l=Object(A.a)(["\n  z-index: 10;\n  color: ",";\n  background-color: ",";\n  font-size: 10px;\n  position: fixed;\n  top: 50px;\n  @media(min-width: 800px) {\n    top: 90px;\n    font-size: 20px;\n  }\n"])),an,sn),kn=I.a.th(d||(d=Object(A.a)(["\n  font-weight: 400;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  width: 100px;\n  @media(min-width: 800px) {\n    width: 180px;\n  }\n"]))),yn=function(){return Object(_.jsx)(wn,{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)(kn,{children:"Character"}),Object(_.jsx)(kn,{children:"Alive"}),Object(_.jsxs)(kn,{children:["Gender",Object(_.jsx)(gn,{})]}),Object(_.jsxs)(kn,{children:["Culture",Object(_.jsx)(mn,{})]}),Object(_.jsx)(kn,{children:"Allegiances"}),Object(_.jsx)(kn,{children:"# of books"})]})})},Cn=I.a.table(j||(j=Object(A.a)(["\n  padding-top: 105px;\n  width: 100%;\n  @media(min-width: 800px) {\n    padding-top: 110px;\n  }\n"]))),zn=I.a.tbody(p||(p=Object(A.a)(["\n  padding-top: 350px;\n  @media(min-width: 800px) {\n    padding-top: 300px;\n  }\n"]))),Sn=function(n){var e=n.characters;return Object(_.jsxs)(Cn,{children:[Object(_.jsx)(yn,{}),e.length>0&&Object(_.jsx)(zn,{children:e.map((function(n,e){return Object(_.jsx)(xn,{character:n,even:e%2===0},e)}))})]})},An=I.a.div(f||(f=Object(A.a)(["\n  position: relative;\n  width: 100%;\n  max-width: 1100px;\n  display: flex;\n  justify-content: center;\n"]))),Fn=function(){var n=cn().filteredCharacters;return console.log(n),Object(_.jsxs)(An,{children:[Object(_.jsx)(pn,{}),Object(_.jsx)(Sn,{characters:n})]})},Ln=t(40),In=t(39),Pn=Object(I.b)(b||(b=Object(A.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Bn=I.a.div(h||(h=Object(A.a)(["\n  color: ",";\n  width: 100%;\n  height: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 40px;\n  svg {\n    width: 100px;\n    height: 100px;\n    animation: "," 0.5s linear infinite;\n  }\n"])),sn,Pn),En=function(){return Object(_.jsx)(Bn,{children:Object(_.jsx)(In.a,{})})},Hn=I.a.div(x||(x=Object(A.a)(["\n  opacity: ",";\n  background-color: ",";\n  /* box-shadow: 4px 4px 12px ","; */\n  padding: 15px;\n  margin: 20px;\n  width: 200px;\n  min-height: 200px;\n  border-radius: 3px;\n"])),(function(n){return n.unknown?.6:1}),sn,"#F95700FF"),Dn=I.a.div(O||(O=Object(A.a)(["\n  color: ",";\n  font-weight: 600;\n  padding-bottom: 15px;\n"])),an),Nn=I.a.div(g||(g=Object(A.a)(["\n  color: ",";\n  font-weight: 400;\n"])),on),Tn=function(n){var e=n.label,t=n.value;return console.log(t),Object(_.jsxs)(Hn,{unknown:t===V,children:[Object(_.jsx)(Dn,{children:e}),Object(_.jsx)(Nn,{children:Array.isArray(t)?t.map((function(n){return Object(_.jsx)("div",{children:n})})):t})]})},Gn=I.a.div(v||(v=Object(A.a)([""]))),Mn=I.a.div(m||(m=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-bottom: 20px;\n  font-size: 20px;\n  text-align: center;\n  svg {\n    cursor: pointer;\n    color: ",";\n    font-size: 30px;\n    margin-bottom: 20px;\n  }\n  font-weight: 700;\n  @media(min-width: 800px) {\n    flex-direction: row;\n    font-size: 26px;\n    margin-left: -30px;\n    padding-bottom: 30px;\n    svg {\n      position: relative;\n      left: -100px;\n      margin-top:10px;\n      margin-bottom: 0;\n    }\n  }\n"])),sn),Yn=I.a.div(w||(w=Object(A.a)(["\n  text-align: left;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  \n"]))),Jn=function(){var n=Object(L.f)().houseId,e=cn(),t=e.getHouse,c=e.house,r=e.cleanHouse;return Object(y.useEffect)((function(){t(parseInt(n))}),[n,t]),c?Object(_.jsxs)(Gn,{children:[Object(_.jsxs)(Mn,{children:[Object(_.jsx)(F.b,{to:"/got-app/",onClick:r,children:Object(_.jsx)(Ln.a,{})}),c.name]}),Object(_.jsxs)(Yn,{children:[Object(_.jsx)(Tn,{label:"Region",value:c.region}),Object(_.jsx)(Tn,{label:"Coat of Arms",value:c.coatOfArms}),Object(_.jsx)(Tn,{label:"Words",value:c.words}),Object(_.jsx)(Tn,{label:"Titles",value:c.titles}),Object(_.jsx)(Tn,{label:"Has Died Out",value:c.hasDiedOut}),Object(_.jsx)(Tn,{label:"Has Overlord",value:c.hasOverlord}),Object(_.jsx)(Tn,{label:"Number Of Cadet Branches",value:c.numberOfCadetBranches})]})]}):Object(_.jsx)(En,{})},Un=I.a.div(k||(k=Object(A.a)(["\n  color: ",";\n  min-height: 100vh;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  @media(min-width: 800px) {\n    padding: 50px;\n  }\n"])),on,an),Wn=function(){return Object(_.jsx)(tn,{children:Object(_.jsx)(F.a,{children:Object(_.jsx)(Un,{children:Object(_.jsxs)(L.c,{children:[Object(_.jsx)(L.a,{path:"/got-app/",exact:!0,children:Object(_.jsx)(Fn,{})}),Object(_.jsx)(L.a,{path:"/got-app/houses/:houseId",children:Object(_.jsx)(Jn,{})})]})})})})},Kn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,75)).then((function(e){var t=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),c(n),r(n),a(n),i(n)}))};S.a.render(Object(_.jsx)(C.a.StrictMode,{children:Object(_.jsx)(Wn,{})}),document.getElementById("root")),Kn()}},[[74,1,2]]]);
//# sourceMappingURL=main.64745d2a.chunk.js.map